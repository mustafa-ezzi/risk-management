{"version":3,"sources":["pages/MiqaatForms.js","api/axios.js","components/Typography/PageTitle.js","components/Typography/SectionTitle.js","components/CTA.js"],"names":["Forms","history","useHistory","location","useLocation","queryParams","URLSearchParams","search","preselectedMiqaatType","get","miqaatType","formData","setFormData","useState","miqaat_name","miqaat_date","hijri_date","miqaat_type","description","zones","isSubmitting","setIsSubmitting","useEffect","fetchZones","hijriDate","gregorianDateString","gregorianDate","Date","isNaN","getTime","referenceGregorian","referenceHijri","totalDaysDifference","Math","floor","currentYear","currentMonth","currentDay","monthLengths","concat","convertToHijri","prevData","_objectSpread","handleChange","e","name","value","target","setZones","selectedZones","setSelectedZones","async","zonesResponse","React","createElement","Fragment","PageTitle","onClick","handleBackClick","goBack","className","AiOutlineArrowLeft","getPageTitle","onSubmit","preventDefault","missingFields","filter","field","length","console","error","join","submissionData","response","post","toast","success","push","id","err","_err$response","_err$response$data","data","message","Label","Input","onChange","placeholder","required","filterValue","getMiqaatTypeDisplayName","Select","type","readOnly","disabled","HelperText","Textarea","rows","map","zone","key","checked","includes","handleZoneChange","zoneId","prevFormData","updatedZones","Button","BASE_URL","log","axiosInstance","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","Promise","reject","status","clear","window","href","url","params","then","res","put","patch","_delete","delete","downloadBlob","filename","responseType","blob","Blob","blobUrl","URL","createObjectURL","link","document","setAttribute","body","appendChild","click","remove","revokeObjectURL","uploadFormData","_ref","children","SectionTitle","CTA","fill","viewBox","d","dangerouslySetInnerHTML","__html"],"mappings":"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","file":"static/js/10.8aead78a.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\r\nimport { useLocation, useHistory } from 'react-router-dom'\r\nimport { post, get } from '../api/axios'\r\nimport CTA from '../components/CTA'\r\nimport PageTitle from '../components/Typography/PageTitle'\r\nimport SectionTitle from '../components/Typography/SectionTitle'\r\nimport { Input, HelperText, Label, Select, Textarea, Button } from '@windmill/react-ui'\r\nimport { toast } from 'react-hot-toast'\r\nimport {\r\n  AiOutlineArrowLeft,\r\n} from \"react-icons/ai\";\r\nfunction Forms() {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const queryParams = new URLSearchParams(location.search);\r\n  const preselectedMiqaatType = queryParams.get('miqaat_type');\r\n  const miqaatType = queryParams.get('miqaat_type');\r\n\r\n  const [formData, setFormData] = useState({\r\n    miqaat_name: '',\r\n    miqaat_date: '',\r\n    hijri_date: '',\r\n    miqaat_type: preselectedMiqaatType || '',\r\n    description: '',\r\n    zones: [],\r\n  });\r\n\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const handleBackClick = () => {\r\n    history.goBack();\r\n  };\r\n  const convertToHijri = (gregorianDateString) => {\r\n    const gregorianDate = new Date(gregorianDateString);\r\n\r\n    if (isNaN(gregorianDate.getTime())) {\r\n      return \"\";\r\n    }\r\n\r\n    const referenceGregorian = new Date(2025, 2, 13);\r\n    const referenceHijri = { year: 1446, month: 9, day: 14 };\r\n\r\n    const millisecondsPerDay = 1000 * 60 * 60 * 24;\r\n    const totalDaysDifference = Math.floor(\r\n      (gregorianDate - referenceGregorian) / millisecondsPerDay\r\n    );\r\n\r\n    const hijriYearLength = 354;\r\n\r\n    const yearDifference = Math.floor(totalDaysDifference / hijriYearLength);\r\n    const remainingDays = totalDaysDifference % hijriYearLength;\r\n\r\n    let currentYear = referenceHijri.year + yearDifference;\r\n    let currentMonth = referenceHijri.month;\r\n    let currentDay = referenceHijri.day + remainingDays;\r\n\r\n    const monthNames = [\r\n      \"Moharramul Haram\",\r\n      \"Safarul Muzaffar\",\r\n      \"Rabiul Awwal\",\r\n      \"Rabiul Akhar\",\r\n      \"Jumadil Ula\",\r\n      \"Jumadal Ukhra\",\r\n      \"Rajabal Asab\",\r\n      \"Shabanul Karim\",\r\n      \"Ramadanal Moazzam\",\r\n      \"Shawwalul Mukarram\",\r\n      \"Ziqadatil Haram\",\r\n      \"Zilhajatil Haram\",\r\n    ];\r\n\r\n    const monthLengths = [30, 29, 30, 29, 30, 29, 30, 30, 29, 30, 29, 30];\r\n\r\n    while (currentDay > monthLengths[currentMonth - 1]) {\r\n      currentDay -= monthLengths[currentMonth - 1];\r\n      currentMonth++;\r\n\r\n      if (currentMonth > 12) {\r\n        currentMonth = 1;\r\n        currentYear++;\r\n      }\r\n    }\r\n\r\n    while (currentDay < 1) {\r\n      currentMonth--;\r\n      if (currentMonth < 1) {\r\n        currentMonth = 12;\r\n        currentYear--;\r\n      }\r\n      currentDay += monthLengths[currentMonth - 1];\r\n    }\r\n\r\n    return `${currentDay} ${monthNames[currentMonth - 1]} ${currentYear}`;\r\n  };\r\n\r\n  // Update hijri_date automatically when miqaat_date changes\r\n  useEffect(() => {\r\n    fetchZones()\r\n\r\n    if (formData.miqaat_date) {\r\n      const hijriDate = convertToHijri(formData.miqaat_date);\r\n      setFormData(prevData => ({\r\n        ...prevData,\r\n        hijri_date: hijriDate\r\n      }));\r\n    };\r\n  }, [formData.miqaat_date]);\r\n\r\n  // Function to get user-friendly filter name\r\n  const getMiqaatTypeDisplayName = (filterValue) => {\r\n    switch (filterValue) {\r\n      case 'general_miqaats':\r\n        return 'General Miqaats';\r\n      case 'private_events':\r\n        return 'Private Events';\r\n      case 'ramadan':\r\n        return 'Ramadan';\r\n      default:\r\n        return filterValue;\r\n    }\r\n  };\r\n  const getPageTitle = () => {\r\n    switch (miqaatType) {\r\n      case 'general_miqaats':\r\n        return 'Create General Miqaat';\r\n      case 'ramadan':\r\n        return 'Create Ramadan';\r\n      case 'private_events':\r\n        return 'Create Private Event';\r\n      default:\r\n        return 'Miqaats';\r\n    }\r\n  };\r\n\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    // Only update if the field is not miqaat_type when it's preselected\r\n    // And don't update hijri_date directly since it's read-only now\r\n    if (!(preselectedMiqaatType && name === 'miqaat_type') && name !== 'hijri_date') {\r\n      setFormData({\r\n        ...formData,\r\n        [name]: value\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n\r\n    // Validate required fields\r\n    const requiredFields = ['miqaat_name', 'miqaat_date', 'miqaat_type'];\r\n    const missingFields = requiredFields.filter(field => !formData[field]);\r\n\r\n    if (missingFields.length > 0) {\r\n      console.error(`Please fill in all required fields: ${missingFields.join(', ')}`);\r\n      setIsSubmitting(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      // Prepare submission data\r\n      const submissionData = {\r\n        ...formData,\r\n        // Ensure numeric fields are converted to numbers\r\n        // thaals_polled: parseInt(formData.thaals_polled) || 0,\r\n        // thaals_cooked: parseInt(formData.thaals_cooked) || 0,\r\n        // thaals_served: parseInt(formData.thaals_served) || 0\r\n      };\r\n\r\n      // Submit the form\r\n      const response = await post('/miqaat/', submissionData);\r\n\r\n      // Show success toast\r\n      toast.success('Miqaat created successfully');\r\n\r\n      // Optionally redirect or reset form\r\n      history.push(`/miqaat-menu/${response.id}`);\r\n    } catch (err) {\r\n      console.error('Error creating miqaat:', err);\r\n      toast.error(err.response?.data?.message || 'Failed to create miqaat');\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const [zones, setZones] = useState([]);\r\n  const [selectedZones, setSelectedZones] = useState([]);\r\n\r\n  const fetchZones = async () => {\r\n    const zonesResponse = await get('/zone/list/');\r\n    setZones(zonesResponse);\r\n  }\r\n\r\n  const handleZoneChange = (zoneId) => {\r\n    setFormData((prevFormData) => {\r\n      const isSelected = prevFormData.zones.includes(zoneId);\r\n      const updatedZones = isSelected\r\n        ? prevFormData.zones.filter(id => id !== zoneId)\r\n        : [...prevFormData.zones, zoneId];\r\n\r\n      return {\r\n        ...prevFormData,\r\n        zones: updatedZones,\r\n      };\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <PageTitle> <button onClick={handleBackClick} className=\"mr-4\">\r\n        <AiOutlineArrowLeft className=\"w-5 h-5 dark:text-white\" />\r\n      </button>{getPageTitle()}</PageTitle>\r\n\r\n<form onSubmit={handleSubmit}>\r\n  <div className=\"px-4 grid grid-cols-1 gap-6 md:grid-cols-2 py-3 mb-8 bg-white rounded-lg shadow-md dark:bg-gray-800\">\r\n\r\n    {/* Miqaat Name */}\r\n    <Label>\r\n      <span>Miqaat Name</span>\r\n      <Input\r\n        className=\"mt-1\"\r\n        name=\"miqaat_name\"\r\n        value={formData.miqaat_name}\r\n        onChange={handleChange}\r\n        placeholder=\"Enter miqaat name\"\r\n        required\r\n      />\r\n    </Label>\r\n\r\n    {/* Miqaat Type */}\r\n    <Label>\r\n      <span>Miqaat Type</span>\r\n      {preselectedMiqaatType ? (\r\n        <div className=\"mt-1 py-2 px-3 border rounded-md border-gray-300 dark:border-gray-600 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300\">\r\n          {getMiqaatTypeDisplayName(preselectedMiqaatType)}\r\n        </div>\r\n      ) : (\r\n        <Select\r\n          className=\"mt-1\"\r\n          name=\"miqaat_type\"\r\n          value={formData.miqaat_type}\r\n          onChange={handleChange}\r\n          required\r\n        >\r\n          <option value=\"general_miqaats\">General Miqaats</option>\r\n          <option value=\"private_events\">Private Events</option>\r\n          <option value=\"ramadan\">Ramadan</option>\r\n        </Select>\r\n      )}\r\n      {preselectedMiqaatType && (\r\n        <input type=\"hidden\" name=\"miqaat_type\" value={preselectedMiqaatType} />\r\n      )}\r\n    </Label>\r\n\r\n    {/* Miqaat Date */}\r\n    <Label>\r\n      <span>Miqaat Date</span>\r\n      <Input\r\n        type=\"date\"\r\n        className=\"mt-1\"\r\n        name=\"miqaat_date\"\r\n        value={formData.miqaat_date}\r\n        onChange={handleChange}\r\n        required\r\n      />\r\n    </Label>\r\n\r\n    {/* Hijri Date */}\r\n    <Label>\r\n      <span>Hijri Date</span>\r\n      <Input\r\n        className=\"mt-1\"\r\n        name=\"hijri_date\"\r\n        value={formData.hijri_date}\r\n        readOnly\r\n        disabled\r\n        placeholder=\"Automatically calculated from Miqaat Date\"\r\n      />\r\n      <HelperText>This field is automatically calculated from the Miqaat Date</HelperText>\r\n    </Label>\r\n\r\n    {/* Description - Full Width */}\r\n    <div className=\"md:col-span-2\">\r\n      <Label>\r\n        <span>Description</span>\r\n        <Textarea\r\n          className=\"mt-1\"\r\n          rows=\"4\"\r\n          name=\"description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          placeholder=\"Enter miqaat description\"\r\n        />\r\n      </Label>\r\n    </div>\r\n\r\n    {/* Zones - Full Width, Last */}\r\n    <div className=\"md:col-span-2\">\r\n      <Label className=\"mt-4\">\r\n        <span>Select Zones</span>\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 mt-2\">\r\n          {zones.map((zone) => (\r\n            <label key={zone.id} className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                value={zone.id}\r\n                checked={formData.zones.includes(zone.id)}\r\n                onChange={() => handleZoneChange(zone.id)}\r\n                className=\"form-checkbox text-purple-600\"\r\n              />\r\n              <span className=\"text-gray-700 dark:text-gray-300\">{zone.name}</span>\r\n            </label>\r\n          ))}\r\n        </div>\r\n      </Label>\r\n    </div>\r\n\r\n    {/* Submit */}\r\n    <div className=\"md:col-span-2 flex md:justify-end justify-center mt-6\">\r\n      <Button type=\"submit\" disabled={isSubmitting}>\r\n        {isSubmitting ? 'Creating...' : 'Create Miqaat'}\r\n      </Button>\r\n    </div>\r\n  </div>\r\n</form>\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Forms;","import axios from \"axios\";\r\n\r\n// let BASE_URL = \"http://35.172.211.35/api\";\r\nlet BASE_URL = \"https://rms-v2.duckdns.org/api\";\r\n\r\n\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  console.log(\"Running in Production Mode\");\r\n  BASE_URL = \"https://rms-v2.duckdns.org/api\";\r\n} else {\r\n  // BASE_URL = \"http://localhost:8000/api/v1\";\r\n  console.log(\"Running in Development Mode\");\r\n}\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    if (token) {\r\n      config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    // await logErrorToBackend(error);\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.clear();\r\n      window.location.href = \"/\";\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const get = async (url, params) => {\r\n  return axiosInstance.get(url, { params }).then((res) => res.data);\r\n};\r\n\r\nexport const post = async (url, data) => {\r\n  return axiosInstance.post(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const put = async (url, data) => {\r\n  return axiosInstance.put(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const patch = async (url, data) => {\r\n  return axiosInstance.patch(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const _delete = async (url) => {\r\n  return axiosInstance.delete(url).then((res) => res.data);\r\n};\r\n\r\nexport const downloadBlob = async (url, filename) => {\r\n  try {\r\n    const response = await axiosInstance.get(url, {\r\n      responseType: \"blob\",\r\n    });\r\n\r\n    const blob = new Blob([response.data], { type: \"application/pdf\" });\r\n    const blobUrl = window.URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement(\"a\");\r\n    link.href = blobUrl;\r\n    link.setAttribute(\"download\", filename);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    link.remove();\r\n    window.URL.revokeObjectURL(blobUrl);\r\n  } catch (err) {\r\n    console.error(\"Download failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const uploadFormData = async (url, formData) => {\r\n  try {\r\n    const response = await axiosInstance.post(url, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.error(\"File upload failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default axiosInstance;\r\n","import React from 'react'\r\n\r\nfunction PageTitle({ children }) {\r\n  return (\r\n    <h1 className=\"my-6 text-2xl font-semibold text-gray-700 dark:text-gray-200\">{children}</h1>\r\n  )\r\n}\r\n\r\nexport default PageTitle\r\n","import React from 'react'\r\n\r\nfunction SectionTitle({ children }) {\r\n  return <h2 className=\"mb-4 text-lg font-semibold text-gray-600 dark:text-gray-300\">{children}</h2>\r\n}\r\n\r\nexport default SectionTitle\r\n","import React from 'react'\r\n\r\nfunction CTA() {\r\n  return (\r\n    <a\r\n      className=\"flex items-center justify-between p-4 mb-8 text-sm font-semibold text-purple-100 bg-purple-600 rounded-lg shadow-md focus:outline-none focus:shadow-outline-purple\"\r\n      href=\"https://github.com/estevanmaito/windmill-dashboard-react\"\r\n    >\r\n      <div className=\"flex items-center\">\r\n        <svg className=\"w-5 h-5 mr-2\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\r\n          <path d=\"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z\"></path>\r\n        </svg>\r\n        <span>Star this project on GitHub</span>\r\n      </div>\r\n      <span>\r\n        View more <span dangerouslySetInnerHTML={{ __html: '&RightArrow;' }}></span>\r\n      </span>\r\n    </a>\r\n  )\r\n}\r\n\r\nexport default CTA\r\n"],"sourceRoot":""}