{"version":3,"sources":["pages/CreateAccount.js","api/axios.js","assets/img/create-account-office.jpeg","assets/img/create-account-office-dark.jpeg"],"names":["Signup","history","useHistory","formData","setFormData","useState","name","email","password","confirmPassword","error","setError","isLoading","setIsLoading","handleChange","e","value","target","prevData","_objectSpread","React","createElement","className","onSubmit","async","preventDefault","validateForm","test","payload","post","toast","success","duration","position","style","background","color","push","err","_err$response","_err$response$data","_err$response2","_err$response2$data","console","response","data","message","HelperText","valid","Label","Input","type","onChange","placeholder","Button","block","disabled","Link","to","BASE_URL","log","axiosInstance","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","Promise","reject","status","clear","window","location","href","get","url","params","then","res","put","patch","_delete","delete","downloadBlob","filename","responseType","blob","Blob","blobUrl","URL","createObjectURL","link","document","setAttribute","body","appendChild","click","remove","revokeObjectURL","uploadFormData","module","exports"],"mappings":"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","file":"static/js/13.6263583b.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport toast from 'react-hot-toast'\r\n\r\nimport ImageLight from '../assets/img/create-account-office.jpeg'\r\nimport ImageDark from '../assets/img/create-account-office-dark.jpeg'\r\nimport { GithubIcon, TwitterIcon } from '../icons'\r\nimport { Input, Label, Button, HelperText } from '@windmill/react-ui'\r\nimport { post } from '../api/axios'\r\n\r\nfunction Signup() {\r\n  const history = useHistory();\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    confirmPassword: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prevData => ({\r\n      ...prevData,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  const validateForm = () => {\r\n    if (formData.password !== formData.confirmPassword) {\r\n      setError('Passwords do not match');\r\n      return false;\r\n    }\r\n    \r\n    if (!formData.name || !formData.email || !formData.password) {\r\n      setError('All fields are required');\r\n      return false;\r\n    }\r\n    \r\n    const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\r\n    if (!emailRegex.test(formData.email)) {\r\n      setError('Please enter a valid email address');\r\n      return false;\r\n    }\r\n    \r\n    return true;\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    \r\n    if (!validateForm()) {\r\n      return;\r\n    }\r\n    \r\n    setIsLoading(true);\r\n    \r\n    try {\r\n      const payload = {\r\n        name: formData.name,\r\n        email: formData.email,\r\n        password: formData.password\r\n      };\r\n      \r\n      \r\n      const response = await post('/signup/', payload);\r\n      \r\n      \r\n      toast.success('Account created successfully!', {\r\n        duration: 4000, \r\n        position: 'top-right',\r\n        style: {\r\n          background: '#4CAF50',\r\n          color: 'white',\r\n        },\r\n      });\r\n      \r\n      history.push('/login');\r\n    } catch (err) {\r\n      console.error('Signup error:', err);\r\n            toast.error(\r\n        err.response?.data?.message || \r\n        'Failed to create account. Please try again.',\r\n        {\r\n          duration: 4000,\r\n          position: 'top-right',\r\n          style: {\r\n            background: '#FF5252',\r\n            color: 'white',\r\n          },\r\n        }\r\n      );\r\n      \r\n      setError(\r\n        err.response?.data?.message || \r\n        'Failed to create account. Please try again.'\r\n      );\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900\">\r\n      <div className=\"flex-1 h-full max-w-md mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800\">\r\n        <div className=\"flex flex-col overflow-y-auto md:flex-row\">\r\n          <main className=\"flex items-center justify-center p-6 sm:p-12 md:w-full\">\r\n            <form className=\"w-full\" onSubmit={handleSubmit}>\r\n              <h1 className=\"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200\">\r\n                Create account\r\n              </h1>\r\n              \r\n              {error && (\r\n                <HelperText className=\"mt-1 mb-4\" valid={false}>\r\n                  {error}\r\n                </HelperText>\r\n              )}\r\n              \r\n              <Label>\r\n                <span>Full Name</span>\r\n                <Input \r\n                  className=\"mt-1\" \r\n                  type=\"text\" \r\n                  name=\"name\"\r\n                  value={formData.name}\r\n                  onChange={handleChange}\r\n                  placeholder=\"John Doe\" \r\n                />\r\n              </Label>\r\n              \r\n              <Label className=\"mt-4\">\r\n                <span>Email</span>\r\n                <Input \r\n                  className=\"mt-1\" \r\n                  type=\"email\" \r\n                  name=\"email\"\r\n                  value={formData.email}\r\n                  onChange={handleChange}\r\n                  placeholder=\"john@doe.com\" \r\n                />\r\n              </Label>\r\n              \r\n              <Label className=\"mt-4\">\r\n                <span>Password</span>\r\n                <Input \r\n                  className=\"mt-1\" \r\n                  type=\"password\" \r\n                  name=\"password\"\r\n                  value={formData.password}\r\n                  onChange={handleChange}\r\n                  placeholder=\"***************\" \r\n                />\r\n              </Label>\r\n              \r\n              <Label className=\"mt-4\">\r\n                <span>Confirm password</span>\r\n                <Input \r\n                  className=\"mt-1\" \r\n                  type=\"password\" \r\n                  name=\"confirmPassword\"\r\n                  value={formData.confirmPassword}\r\n                  onChange={handleChange}\r\n                  placeholder=\"***************\" \r\n                />\r\n              </Label>\r\n\r\n              <Button \r\n                type=\"submit\" \r\n                block \r\n                className=\"mt-4\"\r\n                disabled={isLoading}\r\n              >\r\n                {isLoading ? 'Creating account...' : 'Create account'}\r\n              </Button>\r\n\r\n              <hr className=\"my-8\" />\r\n\r\n              <p className=\"mt-4\">\r\n                <Link\r\n                  className=\"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline\"\r\n                  to=\"/login\"\r\n                >\r\n                  Already have an account? Login\r\n                </Link>\r\n              </p>\r\n            </form>\r\n          </main>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Signup","import axios from \"axios\";\r\n\r\n// let BASE_URL = \"http://35.172.211.35/api\";\r\nlet BASE_URL = \"https://rms-v2.duckdns.org/api\";\r\n\r\n\r\n\r\nif (process.env.NODE_ENV === \"production\") {\r\n  console.log(\"Running in Production Mode\");\r\n  BASE_URL = \"https://rms-v2.duckdns.org/api\";\r\n} else {\r\n  // BASE_URL = \"http://localhost:8000/api/v1\";\r\n  console.log(\"Running in Development Mode\");\r\n}\r\n\r\nconst axiosInstance = axios.create({\r\n  baseURL: BASE_URL,\r\n  headers: {\r\n    \"Content-Type\": \"application/json\",\r\n  },\r\n});\r\n\r\naxiosInstance.interceptors.request.use(\r\n  (config) => {\r\n    const token = localStorage.getItem(\"accessToken\");\r\n    if (token) {\r\n      config.headers[\"Authorization\"] = `Bearer ${token}`;\r\n    }\r\n    return config;\r\n  },\r\n  (error) => {\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\naxiosInstance.interceptors.response.use(\r\n  (response) => response,\r\n  async (error) => {\r\n    // await logErrorToBackend(error);\r\n    if (error.response && error.response.status === 401) {\r\n      localStorage.clear();\r\n      window.location.href = \"/\";\r\n    }\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const get = async (url, params) => {\r\n  return axiosInstance.get(url, { params }).then((res) => res.data);\r\n};\r\n\r\nexport const post = async (url, data) => {\r\n  return axiosInstance.post(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const put = async (url, data) => {\r\n  return axiosInstance.put(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const patch = async (url, data) => {\r\n  return axiosInstance.patch(url, data).then((res) => res.data);\r\n};\r\n\r\nexport const _delete = async (url) => {\r\n  return axiosInstance.delete(url).then((res) => res.data);\r\n};\r\n\r\nexport const downloadBlob = async (url, filename) => {\r\n  try {\r\n    const response = await axiosInstance.get(url, {\r\n      responseType: \"blob\",\r\n    });\r\n\r\n    const blob = new Blob([response.data], { type: \"application/pdf\" });\r\n    const blobUrl = window.URL.createObjectURL(blob);\r\n\r\n    const link = document.createElement(\"a\");\r\n    link.href = blobUrl;\r\n    link.setAttribute(\"download\", filename);\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    link.remove();\r\n    window.URL.revokeObjectURL(blobUrl);\r\n  } catch (err) {\r\n    console.error(\"Download failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport const uploadFormData = async (url, formData) => {\r\n  try {\r\n    const response = await axiosInstance.post(url, formData, {\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (err) {\r\n    console.error(\"File upload failed:\", err);\r\n    throw err;\r\n  }\r\n};\r\n\r\nexport default axiosInstance;\r\n","module.exports = __webpack_public_path__ + \"static/media/create-account-office.41b2c6a1.jpeg\";","module.exports = __webpack_public_path__ + \"static/media/create-account-office-dark.d34c7b50.jpeg\";"],"sourceRoot":""}