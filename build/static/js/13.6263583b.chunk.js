(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[13],{100:function(e,a,t){"use strict";t.r(a);var n=t(11),r=t(0),s=t.n(r),o=t(1),c=t(8),l=t(18),i=t.n(l),m=(t(70),t(71),t(47),t(17)),d=t(40);a.default=function(){const e=Object(o.g)(),[a,t]=Object(r.useState)({name:"",email:"",password:"",confirmPassword:""}),[l,u]=Object(r.useState)(""),[p,f]=Object(r.useState)(!1),h=e=>{const{name:a,value:r}=e.target;t(e=>Object(n.a)(Object(n.a)({},e),{},{[a]:r}))};return s.a.createElement("div",{className:"flex items-center min-h-screen p-6 bg-gray-50 dark:bg-gray-900"},s.a.createElement("div",{className:"flex-1 h-full max-w-md mx-auto overflow-hidden bg-white rounded-lg shadow-xl dark:bg-gray-800"},s.a.createElement("div",{className:"flex flex-col overflow-y-auto md:flex-row"},s.a.createElement("main",{className:"flex items-center justify-center p-6 sm:p-12 md:w-full"},s.a.createElement("form",{className:"w-full",onSubmit:async t=>{if(t.preventDefault(),u(""),(()=>{if(a.password!==a.confirmPassword)return u("Passwords do not match"),!1;if(!a.name||!a.email||!a.password)return u("All fields are required"),!1;return!!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a.email)||(u("Please enter a valid email address"),!1)})()){f(!0);try{const t={name:a.name,email:a.email,password:a.password};await Object(d.e)("/signup/",t);i.a.success("Account created successfully!",{duration:4e3,position:"top-right",style:{background:"#4CAF50",color:"white"}}),e.push("/login")}catch(c){var n,r,s,o;console.error("Signup error:",c),i.a.error((null===(n=c.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Failed to create account. Please try again.",{duration:4e3,position:"top-right",style:{background:"#FF5252",color:"white"}}),u((null===(s=c.response)||void 0===s||null===(o=s.data)||void 0===o?void 0:o.message)||"Failed to create account. Please try again.")}finally{f(!1)}}}},s.a.createElement("h1",{className:"mb-4 text-xl font-semibold text-gray-700 dark:text-gray-200"},"Create account"),l&&s.a.createElement(m.HelperText,{className:"mt-1 mb-4",valid:!1},l),s.a.createElement(m.Label,null,s.a.createElement("span",null,"Full Name"),s.a.createElement(m.Input,{className:"mt-1",type:"text",name:"name",value:a.name,onChange:h,placeholder:"John Doe"})),s.a.createElement(m.Label,{className:"mt-4"},s.a.createElement("span",null,"Email"),s.a.createElement(m.Input,{className:"mt-1",type:"email",name:"email",value:a.email,onChange:h,placeholder:"john@doe.com"})),s.a.createElement(m.Label,{className:"mt-4"},s.a.createElement("span",null,"Password"),s.a.createElement(m.Input,{className:"mt-1",type:"password",name:"password",value:a.password,onChange:h,placeholder:"***************"})),s.a.createElement(m.Label,{className:"mt-4"},s.a.createElement("span",null,"Confirm password"),s.a.createElement(m.Input,{className:"mt-1",type:"password",name:"confirmPassword",value:a.confirmPassword,onChange:h,placeholder:"***************"})),s.a.createElement(m.Button,{type:"submit",block:!0,className:"mt-4",disabled:p},p?"Creating account...":"Create account"),s.a.createElement("hr",{className:"my-8"}),s.a.createElement("p",{className:"mt-4"},s.a.createElement(c.b,{className:"text-sm font-medium text-purple-600 dark:text-purple-400 hover:underline",to:"/login"},"Already have an account? Login")))))))}},40:function(e,a,t){"use strict";t.d(a,"c",(function(){return o})),t.d(a,"e",(function(){return c})),t.d(a,"f",(function(){return l})),t.d(a,"d",(function(){return i})),t.d(a,"a",(function(){return m})),t.d(a,"b",(function(){return d})),t.d(a,"g",(function(){return u}));var n=t(109);let r="https://rms-v2.duckdns.org/api";console.log("Running in Production Mode"),r="https://rms-v2.duckdns.org/api";const s=n.a.create({baseURL:r,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>(e.response&&401===e.response.status&&(localStorage.clear(),window.location.href="/"),Promise.reject(e)));const o=async(e,a)=>s.get(e,{params:a}).then(e=>e.data),c=async(e,a)=>s.post(e,a).then(e=>e.data),l=async(e,a)=>s.put(e,a).then(e=>e.data),i=async(e,a)=>s.patch(e,a).then(e=>e.data),m=async e=>s.delete(e).then(e=>e.data),d=async(e,a)=>{try{const t=await s.get(e,{responseType:"blob"}),n=new Blob([t.data],{type:"application/pdf"}),r=window.URL.createObjectURL(n),o=document.createElement("a");o.href=r,o.setAttribute("download",a),document.body.appendChild(o),o.click(),o.remove(),window.URL.revokeObjectURL(r)}catch(t){throw console.error("Download failed:",t),t}},u=async(e,a)=>{try{return(await s.post(e,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("File upload failed:",t),t}}},70:function(e,a,t){e.exports=t.p+"static/media/create-account-office.41b2c6a1.jpeg"},71:function(e,a,t){e.exports=t.p+"static/media/create-account-office-dark.d34c7b50.jpeg"}}]);
//# sourceMappingURL=13.6263583b.chunk.js.map