(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[25],{112:function(e,a,t){"use strict";t.r(a);var n=t(11),l=t(0),r=t.n(l),c=t(1),s=t(40),i=t(17),o=t(44);var m=e=>{let{isOpen:a,onClose:t,miqaatId:c,onSuccess:o}=e;const[m,d]=Object(l.useState)({miqaat:c,zone:"",sub_zone:"",miqaat_menu:"",unit:"",container:"",quantity:"",filled_percentage:""}),[u,p]=Object(l.useState)({zones:[],sub_zone:[],miqaat_menus:[],units:[],containers:[]}),[b,g]=Object(l.useState)(!1),[E,y]=Object(l.useState)(null);Object(l.useEffect)(()=>{a&&(async()=>{try{const[e,a,t,n,l]=await Promise.all([Object(s.c)("/zone/list/"),Object(s.c)("/sub-zone/list/"),Object(s.c)("/miqaat-menu/list/"),Object(s.c)("/unit/list/"),Object(s.c)("/container/list/")]);p({zones:e,sub_zone:a,miqaat_menus:t,units:n,containers:l})}catch(e){console.error("Error fetching dropdown options:",e),y("Failed to load dropdown options")}})()},[a,c]);const x=e=>{const{name:a,value:t}=e.target;d(e=>Object(n.a)(Object(n.a)({},e),{},{[a]:t}))},v=async e=>{e.preventDefault(),g(!0),y(null);try{const e=Object(n.a)(Object(n.a)({},m),{},{miqaat:parseInt(c),zone:parseInt(m.zone),miqaat_menu:parseInt(m.miqaat_menu),unit:parseInt(m.unit),container:parseInt(m.container),quantity:parseInt(m.quantity),filled_percentage:parseFloat(m.filled_percentage)}),a=["zone","miqaat_menu","unit","container","quantity","filled_percentage"].filter(a=>!e[a]&&0!==e[a]);if(a.length>0)return y("Please fill in all required fields: ".concat(a.join(", "))),void g(!1);if(e.filled_percentage<0||e.filled_percentage>100)return y("Filled percentage must be between 0 and 100"),void g(!1);const l=await Object(s.e)("/counter-packing/",e);o(l),d({miqaat:c,zone:"",miqaat_menu:"",unit:"",container:"",quantity:"",filled_percentage:""}),t()}catch(r){var a,l;console.error("Error creating counter packing:",r),y((null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Failed to create counter packing")}finally{g(!1)}};return r.a.createElement(i.Modal,{isOpen:a,onClose:t},r.a.createElement(i.ModalHeader,null,"Add Counter Packing"),r.a.createElement(i.ModalBody,null,E&&r.a.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},r.a.createElement("span",{className:"block sm:inline"},E)),r.a.createElement("form",{onSubmit:v},r.a.createElement("div",{className:"grid grid-cols-2 gap-4"},r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Menu"),r.a.createElement(i.Select,{name:"miqaat_menu",value:m.miqaat_menu,onChange:x,className:"mt-1",required:!0},r.a.createElement("option",{value:""},"Select Menu"),u.miqaat_menus.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.description)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Container"),r.a.createElement(i.Select,{name:"container",value:m.container,onChange:x,className:"mt-1",required:!0},r.a.createElement("option",{value:""},"Select Container"),u.containers.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Unit"),r.a.createElement(i.Select,{name:"unit",value:m.unit,onChange:x,className:"mt-1",required:!0},r.a.createElement("option",{value:""},"Select Unit"),u.units.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Quantity"),r.a.createElement(i.Input,{type:"number",name:"quantity",value:m.quantity,onChange:x,placeholder:"Enter quantity",className:"mt-1",min:"0",required:!0})),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Zone"),r.a.createElement(i.Select,{name:"zone",value:m.zone,onChange:x,className:"mt-1",required:!0},r.a.createElement("option",{value:""},"Select Zone"),u.zones.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Zone"),r.a.createElement(i.Select,{name:"sub_zone",value:m.sub_zone,onChange:x,className:"mt-1"},r.a.createElement("option",{value:""},"Select Sub Zone"),u.sub_zone.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Filled Percentage"),r.a.createElement(i.Input,{type:"number",name:"filled_percentage",value:m.filled_percentage,onChange:x,placeholder:"Enter filled percentage",className:"mt-1",min:"0",max:"100",step:"0.1",required:!0}),r.a.createElement(i.HelperText,null,"Enter value between 0 and 100"))))),r.a.createElement(i.ModalFooter,null,r.a.createElement("div",{className:"hidden sm:block"},r.a.createElement(i.Button,{onClick:v,disabled:b},b?"Creating...":"Create")),r.a.createElement("div",{className:"w-full sm:hidden"},r.a.createElement(i.Button,{block:!0,size:"large",onClick:v,disabled:b},b?"Creating...":"Create"))))},d=t(18),u=t.n(d);var p=e=>{let{isOpen:a,onClose:t,miqaatId:c,counterPackingData:o,onSuccess:m}=e;const[d,p]=Object(l.useState)({miqaat:c,zone:"",sub_zone:"",miqaat_menu:"",unit:"",container:"",quantity:"",filled_percentage:""}),[b,g]=Object(l.useState)({zones:[],sub_zone:[],miqaat_menus:[],units:[],containers:[]}),[E,y]=Object(l.useState)(!1),[x,v]=Object(l.useState)(null),[N,k]=Object(l.useState)(!1);Object(l.useEffect)(()=>{a&&(async()=>{k(!0);try{var e;const[a,t,n,l,r]=await Promise.all([Object(s.c)("/zone/list/"),Object(s.c)("/sub-zone/list/"),Object(s.c)("/miqaat-menu/".concat(c,"/")),Object(s.c)("/unit/list/"),Object(s.c)("/container/list/")]);g({zones:Array.isArray(a)?a:a.results||[],sub_zone:Array.isArray(t)?t:t.results||[],miqaat_menus:Array.isArray(n.miqaat_menu)?n.miqaat_menu:(null===(e=n.miqaat_menu)||void 0===e?void 0:e.results)||[],units:Array.isArray(l)?l:l.results||[],containers:Array.isArray(r)?r:r.results||[]})}catch(a){console.error("Error fetching dropdown options:",a),v("Failed to load dropdown options")}finally{k(!1)}})()},[a,c]),Object(l.useEffect)(()=>{var e,a,t,n,l,r,s,i,m,d;o&&!N&&p({miqaat:c,zone:o.zone_id||(null!==(e=null===(a=o.zone)||void 0===a?void 0:a.id)&&void 0!==e?e:""),sub_zone:o.sub_zone_id||(null!==(t=null===(n=o.sub_zone)||void 0===n?void 0:n.id)&&void 0!==t?t:""),miqaat_menu:o.miqaat_menu_id||(null!==(l=null===(r=o.miqaat_menu)||void 0===r?void 0:r.id)&&void 0!==l?l:""),unit:o.unit_id||(null!==(s=null===(i=o.unit)||void 0===i?void 0:i.id)&&void 0!==s?s:""),container:o.container_id||(null!==(m=null===(d=o.container)||void 0===d?void 0:d.id)&&void 0!==m?m:""),quantity:o.quantity||"",filled_percentage:o.filled_percentage||""})},[o,c,N]);const f=e=>{const{name:a,value:t}=e.target;p(e=>Object(n.a)(Object(n.a)({},e),{},{[a]:t}))},h=async e=>{e.preventDefault(),y(!0),v(null);try{const e=["zone","miqaat_menu","unit","container","quantity","filled_percentage"].filter(e=>!d[e]);if(e.length>0)throw new Error("Please fill in all required fields: ".concat(e.join(", ")));if(!b.zones.some(e=>e.id===parseInt(d.zone)))throw new Error("Please select a valid zone");if(!b.miqaat_menus.some(e=>e.id===parseInt(d.miqaat_menu)))throw new Error("Please select a valid miqaat menu");if(!b.units.some(e=>e.id===parseInt(d.unit)))throw new Error("Please select a valid unit");if(!b.containers.some(e=>e.id===parseInt(d.container)))throw new Error("Please select a valid container");const a=parseInt(d.quantity),l=parseFloat(d.filled_percentage);if(isNaN(a)||a<0)throw new Error("Quantity must be a non-negative number");if(isNaN(l)||l<0||l>100)throw new Error("Filled percentage must be between 0 and 100");const r=Object(n.a)(Object(n.a)({},d),{},{miqaat:parseInt(c),zone:parseInt(d.zone),sub_zone:parseInt(d.sub_zone),miqaat_menu:parseInt(d.miqaat_menu),unit:parseInt(d.unit),container:parseInt(d.container),quantity:a,filled_percentage:l});await Object(s.d)("/counter-packing/".concat(o.id,"/"),r),u.a.success("Counter packing record updated successfully"),m(),t()}catch(r){var a,l;console.error("Error updating counter packing record:",r),v(r.message||(null===(a=r.response)||void 0===a||null===(l=a.data)||void 0===l?void 0:l.message)||"Failed to update counter packing record")}finally{y(!1)}};return r.a.createElement(i.Modal,{isOpen:a,onClose:t},r.a.createElement(i.ModalHeader,null,"Edit Counter Packing Record"),r.a.createElement(i.ModalBody,null,x&&r.a.createElement("div",{className:"bg-red-100 border border-red-400  text-red-700 px-4 py-3 rounded relative mb-4",role:"alert"},r.a.createElement("span",{className:"block sm:inline"},x)),N?r.a.createElement("p",{className:"text-gray-700 dark:text-gray-400"},"Loading options..."):r.a.createElement("form",{onSubmit:h},r.a.createElement("div",{className:"overflow-x-auto"},r.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Miqaat Menu *"),r.a.createElement(i.Select,{name:"miqaat_menu",value:d.miqaat_menu,onChange:f,className:"mt-1",required:!0,disabled:E},r.a.createElement("option",{value:""},"Select Miqaat Menu"),b.miqaat_menus.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.menu_name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Unit *"),r.a.createElement(i.Select,{name:"unit",value:d.unit,onChange:f,className:"mt-1",required:!0,disabled:E},r.a.createElement("option",{value:""},"Select Unit"),b.units.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Container *"),r.a.createElement(i.Select,{name:"container",value:d.container,onChange:f,className:"mt-1",required:!0,disabled:E},r.a.createElement("option",{value:""},"Select Container"),b.containers.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Quantity *"),r.a.createElement(i.Input,{type:"number",name:"quantity",value:d.quantity,onChange:f,className:"mt-1",placeholder:"Enter quantity",min:"0",required:!0,disabled:E})),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Zone *"),r.a.createElement(i.Select,{name:"zone",value:d.zone,onChange:f,className:"mt-1",required:!0,disabled:E},r.a.createElement("option",{value:""},"Select Zone"),b.zones.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Sub Zone *"),r.a.createElement(i.Select,{name:"sub_zone",value:d.sub_zone,onChange:f,className:"mt-1",disabled:E},r.a.createElement("option",{value:""},"Select Sub Zone"),b.sub_zone.map(e=>r.a.createElement("option",{key:e.id,value:e.id},e.name)))),r.a.createElement(i.Label,{className:"block text-sm"},r.a.createElement("span",{className:"text-gray-700 dark:text-gray-400"},"Filled Percentage *"),r.a.createElement(i.Input,{type:"number",name:"filled_percentage",value:d.filled_percentage,onChange:f,className:"mt-1",placeholder:"Enter filled percentage",min:"0",max:"100",step:"0.1",required:!0,disabled:E})))))),r.a.createElement(i.ModalFooter,null,r.a.createElement("div",{className:"hidden sm:block"},r.a.createElement(i.Button,{onClick:h,disabled:E||N},E?"Updating...":"Update")),r.a.createElement("div",{className:"w-full sm:hidden"},r.a.createElement(i.Button,{block:!0,size:"large",onClick:h,disabled:E||N},E?"Updating...":"Update"))))},b=t(41),g=t.n(b);a.default=function(){var e;const{id:a}=Object(c.i)(),t=Object(c.g)(),[d,b]=Object(l.useState)(null),[E,y]=Object(l.useState)(!0),[x,v]=Object(l.useState)(null),[N,k]=Object(l.useState)(null),[f,h]=Object(l.useState)(!1),[_,w]=Object(l.useState)(!1),[q,C]=Object(l.useState)(null),[j,z]=Object(l.useState)(null);Object(l.useEffect)(()=>{O(),S()},[a]);const O=async()=>{y(!0),v(null);try{const e=await Object(s.c)("/counter-packing/".concat(a,"/"));b(e)}catch(e){console.error("Error fetching counter packing data:",e),v("Failed to load counter packing data. Please try again.")}finally{y(!1)}},S=async()=>{try{const e=await Object(s.c)("/miqaat/".concat(a,"/"));k(e)}catch(e){console.error("Error fetching miqaat details:",e)}},A=e=>{C(e),w(!0)},I=async e=>{try{window.confirm("Are you sure you want to delete this counter packing record?")&&(await Object(s.a)("/counter-packing/".concat(e,"/")),b(a=>Object(n.a)(Object(n.a)({},a),{},{counter_packing:a.counter_packing.filter(a=>a.id!==e)})),u.a.success("Counter packing record deleted successfully"))}catch(x){console.error("Error deleting counter packing record:",x),u.a.error("Failed to delete counter packing record. Please try again.")}},T=e=>{z(j===e?null:e)};return r.a.createElement("div",{className:"relative w-full px-4 py-6"},r.a.createElement("img",{src:g.a,alt:"Watermark",className:"absolute pointer-events-none select-none",style:{top:"50%",left:"50%",position:"absolute",transform:"translate(-50%, -50%)",width:"70vw",maxWidth:"400px",height:"auto",opacity:.05,zIndex:0}}),r.a.createElement("div",{className:"relative z-10"},r.a.createElement("div",{className:"flex items-center justify-between mb-6"},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("button",{onClick:()=>{t.goBack()},className:"mr-4"},r.a.createElement(o.a,{className:"w-5 h-5 dark:text-white"})),r.a.createElement("h1",{style:{fontSize:window.innerWidth<768?"1.25rem":"1.5rem"},className:"font-semibold dark:text-white"},"Counter Packing",N&&" - ".concat(N.miqaat_name))),r.a.createElement("button",{onClick:()=>{h(!0)},className:"flex items-center bg-purple-600 text-white rounded-lg",style:{fontSize:window.innerWidth<768?"0.875rem":"1rem",padding:window.innerWidth<768?"0.5rem 1rem":"0.75rem 1rem"}},r.a.createElement(o.e,{className:"mr-1 ".concat(window.innerWidth<768?"w-3 h-3":"w-4 h-4")}),"Add")),E?r.a.createElement("div",{className:"flex justify-center my-8"},r.a.createElement("p",{className:"text-gray-700 dark:text-gray-400"},"Loading data...")):x?r.a.createElement("div",{className:"text-center py-8"},r.a.createElement("p",{className:"text-red-600"},x),r.a.createElement("button",{onClick:O,className:"mt-4 bg-purple-600 text-white px-4 py-2 rounded"},"Retry")):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.TableContainer,{className:"hidden md:block mb-8"},r.a.createElement(i.Table,null,r.a.createElement(i.TableHeader,null,r.a.createElement("tr",null,r.a.createElement(i.TableCell,null,"ID"),r.a.createElement(i.TableCell,null,"Menu"),r.a.createElement(i.TableCell,null,"Unit"),r.a.createElement(i.TableCell,null,"Container"),r.a.createElement(i.TableCell,null,"Quantity"),r.a.createElement(i.TableCell,null,"Filled %"),r.a.createElement(i.TableCell,null,"Zone"),r.a.createElement(i.TableCell,null,"Sub-Zone"),r.a.createElement(i.TableCell,{className:"text-right"},"Actions"))),r.a.createElement(i.TableBody,null,null===d||void 0===d||null===(e=d.counter_packing)||void 0===e?void 0:e.map((e,a)=>r.a.createElement(i.TableRow,{key:e.id},r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm"},a+1)),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm font-medium"},e.menu_name||"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm"},e.unit_name||"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm"},e.container_name||"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm font-medium"},null!=e.quantity?e.quantity:"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm text-green-600 dark:text-green-400"},null!=e.filled_percentage?"".concat(e.filled_percentage,"%"):"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm"},e.zone_name||"N/A")),r.a.createElement(i.TableCell,null,r.a.createElement("span",{className:"text-sm"},e.sub_zone_name||"N/A")),r.a.createElement(i.TableCell,{className:"text-right"},r.a.createElement("button",{onClick:()=>A(e),className:"text-gray-600 hover:text-blue-600 dark:text-gray-400 dark:hover:text-blue-500 mr-2"},r.a.createElement(o.d,{className:"h-4 w-4 inline-block"})),r.a.createElement("button",{onClick:()=>I(e.id),className:"text-gray-600 hover:text-red-600 dark:text-gray-400 dark:hover:text-red-500"},r.a.createElement(o.b,{className:"h-4 w-4 inline-block"})))))))),r.a.createElement("div",{className:"md:hidden space-y-3"},(null===d||void 0===d?void 0:d.counter_packing)&&0!==d.counter_packing.length?d.counter_packing.map((e,a)=>r.a.createElement("div",{key:e.id,className:"bg-white dark:bg-gray-800 rounded-lg shadow-md border dark:border-gray-700"},r.a.createElement("div",{className:"flex items-center justify-between p-4 cursor-pointer",onClick:()=>T(e.id)},r.a.createElement("div",{className:"flex items-center space-x-3"},r.a.createElement("div",{className:"bg-gray-100 dark:bg-gray-700 h-8 w-8 rounded-full flex items-center justify-center text-gray-700 dark:text-gray-300 font-medium"},a+1),r.a.createElement("div",{className:"font-medium text-gray-800 dark:text-gray-200"},e.menu_name||"N/A")),r.a.createElement("button",{onClick:a=>{a.stopPropagation(),T(e.id)},className:"text-gray-600 dark:text-gray-400"},r.a.createElement(o.c,{className:"h-4 w-4 transition-transform ".concat(j===e.id?"rotate-180":"")}))),j===e.id&&r.a.createElement("div",{className:"px-4 pb-4 pt-0 border-t dark:border-gray-700"},r.a.createElement("div",{className:"mt-2 space-y-2"},r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Unit:"),r.a.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},e.unit_name||"N/A")),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Container:"),r.a.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},e.container_name||"N/A")),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Quantity:"),r.a.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},null!=e.quantity?e.quantity:"N/A")),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Filled %:"),r.a.createElement("p",{className:"text-sm text-green-600 dark:text-green-400"},null!=e.filled_percentage?"".concat(e.filled_percentage,"%"):"N/A")),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Zone:"),r.a.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},e.zone_name||"N/A")),r.a.createElement("div",null,r.a.createElement("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-1"},"Sub-Zone:"),r.a.createElement("p",{className:"text-sm text-gray-700 dark:text-gray-300"},e.sub_zone_name||"N/A"))),r.a.createElement("div",{className:"mt-4 flex justify-end space-x-2"},r.a.createElement("button",{onClick:()=>A(e),className:"text-white px-4 py-1 rounded-md bg-blue-600 hover:bg-blue-700 dark:bg-blue-500 dark:hover:bg-blue-600 flex items-center"},r.a.createElement(o.d,{className:"h-4 w-4 mr-1"}),"Edit"),r.a.createElement("button",{onClick:()=>I(e.id),className:"text-white px-4 py-1 rounded-md bg-red-600 hover:bg-red-700 dark:bg-red-500 dark:hover:bg-red-600 flex items-center"},r.a.createElement(o.b,{className:"h-4 w-4 mr-1"}),"Delete"))))):r.a.createElement("div",{className:"text-center py-8"},r.a.createElement("p",{className:"text-gray-700 dark:text-gray-400"},"No counter packing records found")))),f&&r.a.createElement(m,{isOpen:f,onClose:()=>{h(!1)},miqaatId:a,onSuccess:()=>{O()}}),_&&q&&r.a.createElement(p,{isOpen:_,onClose:()=>{w(!1),C(null)},miqaatId:a,counterPackingData:q,onSuccess:()=>{O()}})))}},40:function(e,a,t){"use strict";t.d(a,"c",(function(){return c})),t.d(a,"e",(function(){return s})),t.d(a,"f",(function(){return i})),t.d(a,"d",(function(){return o})),t.d(a,"a",(function(){return m})),t.d(a,"b",(function(){return d})),t.d(a,"g",(function(){return u}));var n=t(109);let l="https://rms-v2.duckdns.org/api";console.log("Running in Production Mode"),l="https://rms-v2.duckdns.org/api";const r=n.a.create({baseURL:l,headers:{"Content-Type":"application/json"}});r.interceptors.request.use(e=>{const a=localStorage.getItem("accessToken");return a&&(e.headers.Authorization="Bearer ".concat(a)),e},e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>(e.response&&401===e.response.status&&(localStorage.clear(),window.location.href="/"),Promise.reject(e)));const c=async(e,a)=>r.get(e,{params:a}).then(e=>e.data),s=async(e,a)=>r.post(e,a).then(e=>e.data),i=async(e,a)=>r.put(e,a).then(e=>e.data),o=async(e,a)=>r.patch(e,a).then(e=>e.data),m=async e=>r.delete(e).then(e=>e.data),d=async(e,a)=>{try{const t=await r.get(e,{responseType:"blob"}),n=new Blob([t.data],{type:"application/pdf"}),l=window.URL.createObjectURL(n),c=document.createElement("a");c.href=l,c.setAttribute("download",a),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(l)}catch(t){throw console.error("Download failed:",t),t}},u=async(e,a)=>{try{return(await r.post(e,a,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(t){throw console.error("File upload failed:",t),t}}}}]);
//# sourceMappingURL=25.35d4a3be.chunk.js.map