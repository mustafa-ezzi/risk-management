(this["webpackJsonpwindmill-dashboard-react"]=this["webpackJsonpwindmill-dashboard-react"]||[]).push([[30],{40:function(e,t,a){"use strict";a.d(t,"c",(function(){return c})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return d})),a.d(t,"b",(function(){return m})),a.d(t,"g",(function(){return u}));var r=a(109);let n="https://rms-v2.duckdns.org/api";console.log("Running in Production Mode"),n="https://rms-v2.duckdns.org/api";const s=r.a.create({baseURL:n,headers:{"Content-Type":"application/json"}});s.interceptors.request.use(e=>{const t=localStorage.getItem("accessToken");return t&&(e.headers.Authorization="Bearer ".concat(t)),e},e=>Promise.reject(e)),s.interceptors.response.use(e=>e,async e=>(e.response&&401===e.response.status&&(localStorage.clear(),window.location.href="/"),Promise.reject(e)));const c=async(e,t)=>s.get(e,{params:t}).then(e=>e.data),o=async(e,t)=>s.post(e,t).then(e=>e.data),l=async(e,t)=>s.put(e,t).then(e=>e.data),i=async(e,t)=>s.patch(e,t).then(e=>e.data),d=async e=>s.delete(e).then(e=>e.data),m=async(e,t)=>{try{const a=await s.get(e,{responseType:"blob"}),r=new Blob([a.data],{type:"application/pdf"}),n=window.URL.createObjectURL(r),c=document.createElement("a");c.href=n,c.setAttribute("download",t),document.body.appendChild(c),c.click(),c.remove(),window.URL.revokeObjectURL(n)}catch(a){throw console.error("Download failed:",a),a}},u=async(e,t)=>{try{return(await s.post(e,t,{headers:{"Content-Type":"multipart/form-data"}})).data}catch(a){throw console.error("File upload failed:",a),a}}},75:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(40),c=a(44),o=a(41),l=a.n(o);t.default=()=>{const[e,t]=Object(r.useState)(""),[a,o]=Object(r.useState)([]),[i,d]=Object(r.useState)(""),[m,u]=Object(r.useState)(!1);return n.a.createElement("div",{className:"relative min-h-screen bg-cover bg-center bg-gray-900",style:{backgroundImage:"url('/rice.jpg')"}},n.a.createElement("div",{className:"absolute inset-0 bg-black/75 backdrop-blur-md z-0"}),n.a.createElement("div",{className:"relative z-10 flex items-center justify-center min-h-screen px-4 py-12"},n.a.createElement("div",{className:"w-full max-w-xl rounded-2xl shadow-xl p-10 sm:p-12 h-auto min-h-[450px] relative overflow-hidden",style:{backgroundColor:"rgba(255, 255, 255, 0.4)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}},n.a.createElement("div",{className:"flex justify-center items-center"},n.a.createElement("img",{src:l.a,alt:"Logo",className:"h-25 w-auto"})),n.a.createElement("h2",{className:"text-3xl sm:text-3xl font-extrabold text-center text-gray-700  mb-6 tracking-tight"},"Miqaat Attendance History"),n.a.createElement("form",{onSubmit:async t=>{t.preventDefault(),d(""),o([]),u(!0);try{const t=await Object(s.e)("/attendance/history/",{its:e}),a=Array.isArray(t)?t:[t];o(a)}catch(a){d((null===a||void 0===a?void 0:a.detail)||"An unexpected error occurred. Please try again.")}finally{u(!1)}},className:"flex flex-col sm:flex-row items-center gap-3 mb-8 justify-center"},n.a.createElement("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"Enter ITS number",required:!0,className:"w-full sm:w-64 rounded-lg border border-gray-300 dark:border-gray-600 bg-white/50 dark:bg-gray-800/50 px-3 py-2 text-sm shadow-sm focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200"}),n.a.createElement("button",{type:"submit",disabled:m,className:"flex items-center justify-center bg-indigo-600 text-white px-4 py-2 rounded-lg shadow-md text-sm font-medium transition-all duration-200 hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed"},n.a.createElement(c.f,{className:"mr-1.5 text-base"}),m?"Searching...":"Search")),i&&n.a.createElement("p",{className:"text-red-500 text-lg text-center mb-6 font-medium animate-pulse"},i),a.length>0?n.a.createElement("div",{className:"overflow-x-auto rounded-lg  border-gray-200 dark:border-gray-700"},n.a.createElement("table",{className:"min-w-full table-auto text-sm text-left text-gray-700 dark:text-gray-200"},n.a.createElement("thead",{className:"bg-indigo-600 text-white dark:bg-indigo-800"},n.a.createElement("tr",null,["Miqaat Name","Miqaat Date","Zone","Sub Zone","Check-in","Check-out"].map(e=>n.a.createElement("th",{key:e,className:"px-4 sm:px-6 py-3 font-semibold tracking-wider"},e)))),n.a.createElement("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700"},a.map((e,t)=>n.a.createElement("tr",{key:t,className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-150"},n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.miqaat_name),n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.miqaat_date),n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.zone_name),n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.sub_zone_name),n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.checkin_time||"\u2014"),n.a.createElement("td",{className:"px-4 sm:px-6 py-3"},e.checkout_time||"\u2014")))))):!m&&!i&&n.a.createElement("p",{className:"text-center text-gray-700 mt-6 text-lg"}))))}}}]);
//# sourceMappingURL=30.0ae4ba6f.chunk.js.map